echo "starting connect-debezium"
wget -q --retry-connrefused --waitretry=1 -t 120 --header="Accept:application/json" --header="Content-Type:application/json" --post-data='{ "name": "orders-connector", "config": { "connector.class": "io.debezium.connector.mysql.MySqlConnector", "tasks.max": "1", "database.hostname": "localhost", "database.port": "3306", "database.user": "debezium", "database.password": "dbz", "database.server.id": "184054", "database.server.name": "localhost", "database.whitelist": "code", "database.history.kafka.bootstrap.servers": "localhost:9092", "database.history.kafka.topic": "dbhistory.inventory", "transforms": "Filter,Flatten,Rename", "transforms.Filter.type": "org.apache.kafka.connect.transforms.ReplaceField$Value", "transforms.Filter.whitelist": "after", "transforms.Flatten.type": "org.apache.kafka.connect.transforms.Flatten$Value", "transforms.Flatten.delimiter": "_", "transforms.Rename.type": "org.apache.kafka.connect.transforms.ReplaceField$Value", "transforms.Rename.renames": "after_id:id,after_product:product,after_price:price,after_user_id:user_id,after_ordertime:ordertime,after_username:username,after_registered_at:registered_at,after_first_name:first_name,after_last_name:last_name,after_city:city,after_level:level" } }' localhost:8083/connectors/ 
